<div class="container">
    <div class="margin-y">


        <form (ngSubmit)="submitMarca()" class="row g-3 justify-content-center" [formGroup]="formAddMarca">
            <div class="col-7">
                <h2 class="fw-bold mb-2 mt-4 text-center">Formulario de Marca</h2>
            </div>

            <div class="col-7">
                <div class="position-relative text-center">
                    <img [src]=" photoCargada || './assets/img/image-placeholder.jpg' " width="170" height="170" alt=""
                        class="rounded-bottom mt-1 mb-3 shadow" id="file" (click)="imagen.click()">

                </div>


                <input type="file" (change)="getImage( $event )" name="imagen" #imagen formControlName="imagen"
                    autocomplete="off" id="imagen" class="form-control d-none" />

                <div class="mt-2 text-center mb-0"
                    *ngIf="formAddMarca.get('imagen')?.invalid && (formAddMarca.get('imagen')?.dirty || formAddMarca.get('imagen')?.touched)">
                    <p *ngIf="formAddMarca.controls['imagen'].errors && formAddMarca.controls['imagen'].errors['fileSize']"
                        class="p-1 fw-bold" style="color: rgb(121, 36, 36);">
                        {{formAddMarca.controls['imagen'].errors['fileSize'].message}}
                    </p>

                    <p *ngIf="formAddMarca.controls['imagen'].errors && formAddMarca.controls['imagen'].errors['extension']"
                        class="p-1 fw-bold" style="color: rgb(121, 36, 36);">
                        {{formAddMarca.controls['imagen'].errors['extension'].message}}
                    </p>

                    <p *ngIf="formAddMarca.get('imagen')?.hasError('required')" class="p-1 fw-bold"
                        style="color: rgb(121, 36, 36);">La Imagen es requerida.</p>
                </div>
            </div>

            <div class="col-7">
                <div class="form-floating mb-2">
                    <input type="text" class="form-control" name="descripcion" id="descripcion" autocomplete="off"
                        formControlName="descripcion" placeholder="example">
                    <label for="descripcion">Descripci칩n</label>
                </div>

                <div class="mt-1"
                    *ngIf="formAddMarca.get('descripcion')?.invalid && (formAddMarca.get('descripcion')?.dirty || formAddMarca.get('descripcion')?.touched)">
                    <p *ngIf="formAddMarca.get('descripcion')?.hasError('required')" class="p-1 fw-bold"
                        style="color: rgb(121, 36, 36);">Descripci칩n requerido.
                    </p>
                    <p *ngIf="formAddMarca.get('descripcion')?.hasError('maxlength')" class="p-1 fw-bold"
                        style="color: rgb(121, 36, 36);"> La Descripci칩n solo
                        admite
                        m치ximo 255 caracteres.
                    </p>
                </div>
            </div>
            <div class="col-7">

                <div class="form-floating  mb-2">
                    <select class="form-select" name="estado" formControlName="estado" id="estado">
                        <option selected value="">Seleccionar</option>
                        <option value="A">Activo</option>
                        <option value="I">Inactivo</option>
                    </select>
                    <label for="estado">Estado</label>
                </div>

                <div class="mt-1"
                    *ngIf="formAddMarca.get('estado')?.invalid && (formAddMarca.get('estado')?.dirty || formAddMarca.get('estado')?.touched)">
                    <p *ngIf="formAddMarca.get('estado')?.hasError('required')" class="p-1 fw-bold"
                        style="color: rgb(121, 36, 36);">Seleccione un Estado.
                    </p>
                </div>
            </div>

            <div class="col-7">

                <div class="form-floating  mb-2">
                    <select class="form-select" name="animal" formControlName="animal" id="animal">
                        <option selected value="">Seleccionar</option>
                        <option [value]="animal.idAnimal" *ngFor="let animal of animales">{{animal.claseAnimal}}
                        </option>
                    </select>
                    <label for="estado">Animal</label>
                </div>


                <div class="mt-1"
                    *ngIf="formAddMarca.get('animal')?.invalid && (formAddMarca.get('animal')?.dirty || formAddMarca.get('animal')?.touched)">
                    <p *ngIf="formAddMarca.get('animal')?.hasError('required')" class="p-1 fw-bold"
                        style="color: rgb(121, 36, 36);">Seleccione un Animal.
                    </p>
                </div>
            </div>
            <div class="col-7 mt-4">
                <button type="submit" [disabled]="formAddMarca.invalid"
                    class="btn btn-custom btn-hover">Agregar</button>
            </div>
        </form>
    </div>
</div>